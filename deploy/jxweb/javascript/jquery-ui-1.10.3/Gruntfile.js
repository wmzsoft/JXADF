module.exports=function(s){"use strict";function i(s){return"dist/"+s.replace(/\.js$/,".min.js").replace(/ui\//,"minified/")}function e(i){return s.util._.pluck(s.file.expandMapping(i),"src").map(function(s){return s[0]})}function t(s){return s.replace(/.+\/(.+?)>?$/,"$1")}function n(s){var i=s&&s.map(t);return"/*! <%= pkg.title || pkg.name %> - v<%= pkg.version %> - <%= grunt.template.today('isoDate') %>\n<%= pkg.homepage ? '* ' + pkg.homepage + '\\n' : '' %>"+(s?"* Includes: "+i.join(", ")+"\n":"")+"* Copyright <%= grunt.template.today('yyyy') %> <%= pkg.author.name %>; Licensed <%= _.pluck(pkg.licenses, 'type').join(', ') %> */\n"}var r=["jquery.ui.core.js","jquery.ui.widget.js","jquery.ui.mouse.js","jquery.ui.draggable.js","jquery.ui.droppable.js","jquery.ui.resizable.js","jquery.ui.selectable.js","jquery.ui.sortable.js","jquery.ui.effect.js"],d=r.map(function(s){return"ui/"+s}).concat(e("ui/*.js").filter(function(s){return-1===r.indexOf(s.substring(3))})),u=e("ui/i18n/*.js"),c=["core","accordion","autocomplete","button","datepicker","dialog","menu","progressbar","resizable","selectable","slider","spinner","tabs","tooltip","theme"].map(function(s){return"themes/base/jquery.ui."+s+".css"}),a={options:{preserveComments:!1},main:{options:{banner:n(d)},files:{"dist/jquery-ui.min.js":"dist/jquery-ui.js"}},i18n:{options:{banner:n(u)},files:{"dist/i18n/jquery-ui-i18n.min.js":"dist/i18n/jquery-ui-i18n.js"}}},m={options:{keepSpecialComments:0},main:{options:{keepSpecialComments:"*"},src:"dist/jquery-ui.css",dest:"dist/jquery-ui.min.css"}},o={all:["dist/jquery-ui.js","dist/jquery-ui.min.js"]};d.concat(u).forEach(function(s){a[s]={options:{banner:n()},files:{}},a[s].files[i(s)]=s}),c.forEach(function(s){m[s]={options:{banner:n()},src:s,dest:"dist/"+s.replace(/\.css$/,".min.css").replace(/themes\/base\//,"themes/base/minified/")}}),d.forEach(function(s){o[s]=[s,i(s)]}),s.loadNpmTasks("grunt-contrib-jshint"),s.loadNpmTasks("grunt-contrib-uglify"),s.loadNpmTasks("grunt-contrib-concat"),s.loadNpmTasks("grunt-contrib-qunit"),s.loadNpmTasks("grunt-contrib-csslint"),s.loadNpmTasks("grunt-contrib-cssmin"),s.loadNpmTasks("grunt-html"),s.loadNpmTasks("grunt-compare-size"),s.loadNpmTasks("grunt-git-authors"),s.loadTasks("build/tasks"),s.initConfig({pkg:s.file.readJSON("package.json"),files:{dist:"<%= pkg.name %>-<%= pkg.version %>",cdn:"<%= pkg.name %>-<%= pkg.version %>-cdn",themes:"<%= pkg.name %>-themes-<%= pkg.version %>"},compare_size:o,concat:{ui:{options:{banner:n(d),stripBanners:{block:!0}},src:d,dest:"dist/jquery-ui.js"},i18n:{options:{banner:n(u)},src:u,dest:"dist/i18n/jquery-ui-i18n.js"},css:{options:{banner:n(c),stripBanners:{block:!0}},src:c,dest:"dist/jquery-ui.css"}},uglify:a,cssmin:m,htmllint:{all:s.file.expand(["demos/**/*.html","tests/**/*.html"]).filter(function(s){return!/(?:ajax\/content\d\.html|tabs\/data\/test\.html|tests\/unit\/core\/core\.html)/.test(s)})},copy:{dist:{src:["AUTHORS.txt","jquery-*.js","MIT-LICENSE.txt","README.md","Gruntfile.js","package.json","*.jquery.json","ui/**/*","ui/.jshintrc","demos/**/*","themes/**/*","external/**/*","tests/**/*"],renames:{"dist/jquery-ui.js":"ui/jquery-ui.js","dist/jquery-ui.min.js":"ui/minified/jquery-ui.min.js","dist/i18n/jquery-ui-i18n.js":"ui/i18n/jquery-ui-i18n.js","dist/i18n/jquery-ui-i18n.min.js":"ui/minified/i18n/jquery-ui-i18n.min.js","dist/jquery-ui.css":"themes/base/jquery-ui.css","dist/jquery-ui.min.css":"themes/base/minified/jquery-ui.min.css"},dest:"dist/<%= files.dist %>"},dist_min:{src:"dist/minified/**/*",strip:/^dist/,dest:"dist/<%= files.dist %>/ui"},dist_css_min:{src:"dist/themes/base/minified/*.css",strip:/^dist/,dest:"dist/<%= files.dist %>"},dist_units_images:{src:"themes/base/images/*",strip:/^themes\/base\//,dest:"dist/"},dist_min_images:{src:"themes/base/images/*",strip:/^themes\/base\//,dest:"dist/<%= files.dist %>/themes/base/minified"},cdn:{src:["AUTHORS.txt","MIT-LICENSE.txt","ui/*.js","package.json"],renames:{"dist/jquery-ui.js":"jquery-ui.js","dist/jquery-ui.min.js":"jquery-ui.min.js","dist/i18n/jquery-ui-i18n.js":"i18n/jquery-ui-i18n.js","dist/i18n/jquery-ui-i18n.min.js":"i18n/jquery-ui-i18n.min.js"},dest:"dist/<%= files.cdn %>"},cdn_i18n:{src:"ui/i18n/jquery.ui.datepicker-*.js",strip:"ui/",dest:"dist/<%= files.cdn %>"},cdn_i18n_min:{src:"dist/minified/i18n/jquery.ui.datepicker-*.js",strip:"dist/minified",dest:"dist/<%= files.cdn %>"},cdn_min:{src:"dist/minified/*.js",strip:/^dist\/minified/,dest:"dist/<%= files.cdn %>/ui"},cdn_themes:{src:"dist/<%= files.themes %>/themes/**/*",strip:"dist/<%= files.themes %>",dest:"dist/<%= files.cdn %>"},themes:{src:["AUTHORS.txt","MIT-LICENSE.txt","package.json"],dest:"dist/<%= files.themes %>"}},zip:{dist:{src:"<%= files.dist %>",dest:"<%= files.dist %>.zip"},cdn:{src:"<%= files.cdn %>",dest:"<%= files.cdn %>.zip"},themes:{src:"<%= files.themes %>",dest:"<%= files.themes %>.zip"}},md5:{dist:{src:"dist/<%= files.dist %>",dest:"dist/<%= files.dist %>/MANIFEST"},cdn:{src:"dist/<%= files.cdn %>",dest:"dist/<%= files.cdn %>/MANIFEST"},themes:{src:"dist/<%= files.themes %>",dest:"dist/<%= files.themes %>/MANIFEST"}},qunit:{files:e("tests/unit/**/*.html").filter(function(s){return!/(all|index|test|dialog|dialog_deprecated|tabs|tooltip)\.html$/.test(s)})},jshint:{ui:{options:{jshintrc:"ui/.jshintrc"},files:{src:"ui/*.js"}},grunt:{options:{jshintrc:".jshintrc"},files:{src:["Gruntfile.js","build/**/*.js"]}},tests:{options:{jshintrc:"tests/.jshintrc"},files:{src:"tests/unit/**/*.js"}}},csslint:{base_theme:{src:"themes/base/*.css",options:{"adjoining-classes":!1,"box-model":!1,"compatible-vendor-prefixes":!1,"duplicate-background-images":!1,"import":!1,important:!1,"outline-none":!1,"overqualified-elements":!1,"text-indent":!1}}}}),s.registerTask("default",["lint","test"]),s.registerTask("lint",["jshint","csslint","htmllint"]),s.registerTask("test",["qunit"]),s.registerTask("sizer",["concat:ui","uglify:main","compare_size:all"]),s.registerTask("sizer_all",["concat:ui","uglify","compare_size"]),s.registerTask("build",["concat","uglify","cssmin","copy:dist_units_images"]),s.registerTask("release","clean build copy:dist copy:dist_min copy:dist_min_images copy:dist_css_min md5:dist zip:dist".split(" ")),s.registerTask("release_themes","release generate_themes copy:themes md5:themes zip:themes".split(" ")),s.registerTask("release_cdn","release_themes copy:cdn copy:cdn_min copy:cdn_i18n copy:cdn_i18n_min copy:cdn_themes md5:cdn zip:cdn".split(" "))};